<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="layout :: head">
    <!--  헤드 공간  -->
</head>
<body>
<!--  상단바 공간  -->
<header th:replace="layout :: nav"></header>
<div class="d-flex py-4 bg-body-tertiary main">
    <div class="container my-5">
        <!-- 메뉴 기능 -->
        <div class="hstack gap-3">
            <!-- 게시물 작성 버튼 -->
            <div class="p-2 ms-auto">
                <a class="btn btn-warning me-2" th:href="@{/posts/write}">Write</a>
            </div>
        </div>
        <!-- 게시글 목록 -->
        <table class="table" style="table-layout: fixed">
            <thead>
            <tr>
                <th style="width:10%">#</th>
                <th style="width:15%">제목</th>
                <th style="width:15%">작성자</th>
                <th style="width:30%">내용</th>
                <th style="width:20%">작성일시</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center" id="pagination">
            </ul>
        </nav>
    </div>
</div>

<form th:action="@{/posts}" method="get" id="searchForm">
    <input type="hidden" id="page" name="page" th:value="${page}">
</form>
<script src="/js/posts.js" type="text/javascript"></script>
<script>
    $(document).ready(function() {
        getPostList("[[${page}]]");
    });
</script>
<!--common script -->
<th:block th:replace="layout :: scripts"></th:block>
</body>

</html>